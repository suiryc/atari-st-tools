atari-st-tools {

  zip {
    allow-extra = [
      "(?i).*\\.txt",
      "(?i)file_id\\.diz"
    ]
  }

  disk-name {
    standardFormatSuffix = "(?:[-_])?([0-9]+)(?:[-_])?([a-z].*|)"

    formatters = [{
      label = "AmaZine"
      format = "(?i)(?:amazine)"${atari-st-tools.disk-name.standardFormatSuffix}
      normalized = "amazine%1$d%2$s"
    }, {
      label = "Automation"
      normalizers = [{
        format = "(?i)(?:a|aut|auto|autm|wnw|lsd)(?:[-_])?([0-9]+)(?:[-_])?(v[0-9].*|)?"
        normalized = "a_%1$03d%2$s"
      }, {
        format = "(?i)(?:a|aut|auto|autm|wnw|lsd)(?:[-_])?([0-9]+)(?:[-_])?([a-z].*)"
        normalized = "a_%1$03d_%2$s"
      }, {
        format = "(?i)(?:a|aut|auto|autm|wnw|lsd)(?:[-_])?([0-9]+)(?:[-_])([0-9].*)"
        normalized = "a_%1$03d_%2$s"
      }]
    }, {
      label = "Bad Brew Crew"
      format = "(?i)(?:bbc)"${atari-st-tools.disk-name.standardFormatSuffix}
      normalized = "bbc%1$02d%2$s"
    }, {
      label = "Bog Brothers"
      format = "(?i)(?:bogbros)"${atari-st-tools.disk-name.standardFormatSuffix}
      normalized = "bogbros%1$d%2$s"
    }, {
      label = "Chimeric Desires"
      format = "(?i)(?:chim)"${atari-st-tools.disk-name.standardFormatSuffix}
      normalized = "chim%1$d%2$s"
    }, {
      label = "Cockney Rejects brother in law"
      format = "(?i)(?:cockney)"${atari-st-tools.disk-name.standardFormatSuffix}
      normalized = "cockney%1$d%2$s"
    }, {
      label = "Compil"
      format = "(?i)(?:compil)"${atari-st-tools.disk-name.standardFormatSuffix}
      normalized = "compil%1$02d%2$s"
    }, {
      label = "Cynix"
      format = "(?i)(?:cynix)"${atari-st-tools.disk-name.standardFormatSuffix}
      normalized = "cynix_%1$02d%2$s"
    }, {
      label = "D-Bug"
      format = "(?i)(?:d|dbug)"${atari-st-tools.disk-name.standardFormatSuffix}
      normalized = "dbug%1$03d%2$s"
    }, {
      label = "Delight Adventures"
      format = "(?i)(?:dad)"${atari-st-tools.disk-name.standardFormatSuffix}
      normalized = "dad_%1$d%2$s"
    }, {
      label = "Delta"
      format = "(?i)(?:delta)"${atari-st-tools.disk-name.standardFormatSuffix}
      normalized = "delta%1$d%2$s"
    }, {
      label = "Deviant Designers Docs"
      format = "(?i)(?:dddoc)"${atari-st-tools.disk-name.standardFormatSuffix}
      normalized = "dddoc%1$02d%2$s"
    }, {
      label = "Flame Of Finland"
      format = "(?i)(?:fof)"${atari-st-tools.disk-name.standardFormatSuffix}
      normalized = "fof_%1$03d%2$s"
    }, {
      label = "Fuzion"
      format = "(?i)(?:fuzcd)"${atari-st-tools.disk-name.standardFormatSuffix}
      normalized = "fuzcd%1$03d%2$s"
    }, {
      label = "Gravatics"
      format = "(?i)(?:grav)"${atari-st-tools.disk-name.standardFormatSuffix}
      normalized = "grav%1$02d%2$s"
    }, {
      label = "HackBear"
      format = "(?i)(?:hckbear)"${atari-st-tools.disk-name.standardFormatSuffix}
      normalized = "hckbear%1$d%2$s"
    }, {
      label = "Klapauzius"
      format = "(?i)(?:kcd)"${atari-st-tools.disk-name.standardFormatSuffix}
      normalized = "kcd%1$03d%2$s"
    }, {
      label = "Lengame"
      format = "(?i)(?:lengame)"${atari-st-tools.disk-name.standardFormatSuffix}
      normalized = "lengame%1$d%2$s"
    }, {
      label = "Medway Boys"
      format = "(?i)(?:med|mboys)"${atari-st-tools.disk-name.standardFormatSuffix}
      normalized = "med_%1$03d%2$s"
    }, {
      label = "Persistence Of Vision"
      format = "(?i)(?:pov)"${atari-st-tools.disk-name.standardFormatSuffix}
      normalized = "pov%1$03d%2$s"
    }, {
      label = "Planet ST"
      format = "(?i)(?:plst)"${atari-st-tools.disk-name.standardFormatSuffix}
      normalized = "plst%1$d%2$s"
    }, {
      label = "Pompey Pirates"
      format = "(?i)(?:pp)"${atari-st-tools.disk-name.standardFormatSuffix}
      normalized = "pp_%1$03d%2$s"
      normalizers = [{
        format = "(?i)(?:pp)(?:[-_])?([0-9]+)(?:[-_])?(v[0-9].*|)?"
        normalized = "pp_%1$03d%2$s"
      }, {
        format = "(?i)(?:pp)(?:[-_])?([0-9]+)(?:[-_])?([a-z].*)"
        normalized = "pp_%1$03d_%2$s"
      }, {
        format = "(?i)(?:pp)(?:[-_])?([0-9]+)(?:[-_])([0-9].*)"
        normalized = "pp_%1$03d_%2$s"
      }, {
        format = "(?i)(?:ppkc)"${atari-st-tools.disk-name.standardFormatSuffix}
        normalized = "ppkc_%1$03d%2$s"
      }]
    }, {
      label = "SRG"
      format = "(?i)(?:srg)"${atari-st-tools.disk-name.standardFormatSuffix}
      normalized = "srg%1$d%2$s"
    }, {
      label = "Regression Therapy"
      format = "(?i)(?:regthep)"${atari-st-tools.disk-name.standardFormatSuffix}
      normalized = "regthep%1$d%2$s"
    }, {
      label = "ST Format"
      format = "(?i)(?:stf)"${atari-st-tools.disk-name.standardFormatSuffix}
      normalized = "stf%1$02d%2$s"
    }, {
      label = "ST-Menu"
      format = "(?i)(?:stmenu)"${atari-st-tools.disk-name.standardFormatSuffix}
      normalized = "stmenu%1$d%2$s"
    }, {
      label = "Superior"
      format = "(?i)(?:sup)"${atari-st-tools.disk-name.standardFormatSuffix}
      normalized = "sup_%1$03d%2$s"
    }, {
      label = "Warp"
      format = "(?i)(?:warp)"${atari-st-tools.disk-name.standardFormatSuffix}
      normalized = "warp%1$d%2$s"
    }, {
      label = "Wild Boys"
      format = "(?i)(?:wb)"${atari-st-tools.disk-name.standardFormatSuffix}
      normalized = "wb%1$d%2$s"
    }]
  }

  output {
    root = "~/dev/atari/deduplicate"
  }

}
